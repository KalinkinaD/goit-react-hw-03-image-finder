{"version":3,"sources":["components/searchbar.js","components/imageGalleryItem.js","components/imageGallery.js","components/button.js","components/modal.js","components/notification.js","services/pixabayApi.js","App.js","index.js"],"names":["SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","propTypes","url","PropTypes","string","isRequired","alt","OpenModal","func","ImageGalleryItem","src","onClick","img","map","id","webformatURL","largeImageURL","tags","key","Button","onLoadMore","Modal","closeOnEsc","code","onClose","handleClose","currentTarget","window","addEventListener","removeEventListener","Notification","message","searchQuery","page","axios","get","then","response","data","hits","App","loading","error","largeImageUrl","total","isModalOpen","modalUrl","fetchImage","imgService","images","prevState","catch","finally","handleSearchFormSubmit","query","openModal","fullImg","dataset","modal","closeModal","handleModal","prevProps","color","height","width","timeout","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.994d2b1b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    state: PropTypes.shape({\r\n      inputValue: PropTypes.string,\r\n    }),\r\n    handleChange: PropTypes.func,\r\n    handleSubmit: PropTypes.func,\r\n  };\r\n\r\n  state = { inputValue: \"\" };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGallery from \"./imageGallery\";\r\n\r\nconst ImageGalleryItem = ({ url, alt, OpenModal }) => {\r\n  return (\r\n    <>\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={url}\r\n          alt={alt}\r\n          onClick={OpenModal}\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  OpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./imageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ImageGallery({ img, OpenModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {img.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          url={webformatURL}\r\n          OpenModal={() => OpenModal(largeImageURL)}\r\n          alt={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  OpenModal: PropTypes.func.isRequired,\r\n  img: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" onClick={onLoadMore} className=\"Button\">\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport propTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: propTypes.func.isRequired,\r\n    src: propTypes.string.isRequired,\r\n  };\r\n\r\n  state = {};\r\n\r\n  componentWillMount() {\r\n    window.addEventListener(\"keydown\", this.closeOnEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeOnEsc);\r\n  }\r\n\r\n  closeOnEsc = (e) => {\r\n    if (e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n    const { onClose } = this.props;\r\n    onClose();\r\n  };\r\n\r\n  handleClose = (e) => {\r\n    if (e.target !== e.currentTarget) {\r\n      return;\r\n    }\r\n    const { onClose } = this.props;\r\n    onClose();\r\n  };\r\n  render() {\r\n    const { src } = this.props;\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleClose}>\r\n        <div className=\"Modal\">\r\n          <img src={src} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Notification(message) {\r\n  return <div>{message}</div>;\r\n}\r\n\r\nNotification.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst imgService = (searchQuery, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=17307433-b3b18b1a01ee5cc066151defb`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  imgService,\r\n};\r\n","import React, { Component } from \"react\";\nimport SearchBar from \"./components/searchbar\";\nimport ImageGallery from \"./components/imageGallery\";\nimport Button from \"./components/button\";\nimport Modal from \"./components/modal\";\nimport Notification from \"./components/notification\";\n\nimport Loader from \"react-loader-spinner\";\n\nimport imgService from \"./services/pixabayApi\";\n\nclass App extends Component {\n  state = {\n    img: [],\n    loading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    largeImageUrl: null,\n    total: 0,\n    isModalOpen: false,\n    modalUrl: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImage();\n    }\n  }\n\n  fetchImage = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ loading: true });\n\n    imgService\n      .imgService(searchQuery, page)\n      .then((images) =>\n        this.setState((prevState) => ({\n          img: [...prevState.img, ...images],\n          page: prevState.page + 1,\n          total: images.total,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearchFormSubmit = (query) => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      img: [],\n    });\n  };\n\n  openModal = (e) => {\n    const fullImg = e.target.dataset.modal;\n    this.setState({ isModalOpen: true, modalUrl: fullImg });\n  };\n\n  closeModal = (e) => {\n    this.setState({ isModalOpen: false, modalUrl: \" \" });\n  };\n\n  handleModal = (url) => {\n    this.setState({ modalUrl: url, isModalOpen: true });\n  };\n\n  render() {\n    const { img, loading, total, isModalOpen, modalUrl, error } = this.state;\n    return (\n      <>\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\n        {error && (\n          <Notification message={`We have a problem: ${error.message}`} />\n        )}\n        <ImageGallery img={img} OpenModal={this.handleModal} />\n        {loading && (\n          <Loader\n            type=\"Hearts\"\n            color=\"pink\"\n            height={80}\n            width={80}\n            timeout={5000} //5 secs/>}\n          />\n        )}\n        {isModalOpen && <Modal src={modalUrl} onClose={this.closeModal} />}\n        {img.length > 0 && !loading && img.length !== total && (\n          <Button onLoadMore={this.fetchImage} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className=\"App\" />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}